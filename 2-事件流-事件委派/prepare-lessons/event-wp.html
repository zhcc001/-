<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>事件委派</title>
  <style media="screen">
    .box{
      width:300px;
      border:1px solid red;
      margin:20px auto;
      overflow:hidden;
    }
    .item{
      width:20px;height:20px;
      background:black;
      margin-right:1px ;
      margin-bottom:1px ;
      float:left;
    }
    button{
      display:block;
      margin:0 auto;
    }
  </style>
</head>
<body>
    <div class="box">
      <div class="item"></div>
      <div class="item"></div>
      <div class="item"></div>
    </div>
    <button>添加</button>
    <script>
      var box=document.querySelector(".box");
      var add=document.querySelector("button");
      var item=document.querySelectorAll(".item");
      for(var j=0;j<item.length;j++){
        item[j].onclick=function(){
          this.style.background="purple";
        }
      }
      add.onclick=function(){
        for(var i=0;i<10;i++){
          var div=document.createElement("DIV");
          div.className="item";
          box.appendChild(div);
        }
      }
      box.onclick=function(e){
        var ev=e||window.event;
        var target=ev.target||ev.srcElement;
        if(target.className=="item"){
          target.style.background="blue";
        }
      }
    </script>
</body>
</html>
